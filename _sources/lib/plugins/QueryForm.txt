
.. currentmodule:: gxp.plugins

:class:`gxp.plugins.QueryForm`
================================================================================


.. cssclass:: meta


Extends
    * `Ext.util.Observable <http://extjs.com/deploy/dev/docs/?class=Ext.util.Observable>`_
    * :class:`gxp.plugins.Tool`





ptype
    ``gx_queryform``



.. class:: QueryForm(config)

  Plugin for performing queries on feature layers
  TODO Replace this tool with something that is less like GeoEditor and
  more like filtering.


    


Config Options
--------------

Configuration properties in addition to
those listed for `Ext.util.Observable <http://extjs.com/deploy/dev/docs/?class=Ext.util.Observable>`_.


.. describe:: actions

    ``Object`` By default, this tool creates a "Query" action to trigger
    the output of this tool's form. Set to null if you want to include
    the form permanently in your layout.

.. describe:: actionTarget

    ``String`` or ``Array`` Where to place the tool's actions (e.g. buttons
    or menus)? This can be any string that references an ``Ext.Container``
    property on the portal, or a unique id configured on a component, or an
    array of the aforementioned if the action is to be put in more than one
    places (e.g. a button and a context menu item). To reference one of the
    toolbars of an ``Ext.Panel``, ".tbar", ".bbar" or ".fbar" has to be
    appended. The default is "map.tbar". The viewer's main MapPanel
    can always be accessed with "map" as actionTarget. Set to null if no
    actions should be created.

.. describe:: appendActions

    ``Boolean`` If set to false, actions won't be added, but inserted to
    the container at the beginning. This is useful to control the order of
    actions in a toolbar. Default is true.

.. describe:: autoActivate

    ``Boolean`` Set to false if the tool should be initialized without
    activating it. Default is true.

.. describe:: currentTextText

    ``String``
    Text for query by current extent (i18n).

.. describe:: defaultAction

    ``Number`` Optional index of an action that should be active by
    default. Only works for actions that are a ``GeoExt.Action`` instance.

.. describe:: featureManager

    ``String`` The id of the :class:`gxp.plugins.FeatureManager` to use
    with this tool.

.. describe:: outputAction

    ``Number`` By default, the "Query" action will trigger this tool's
    form output. There is no need to change this unless you configure
    custom ``actions``.

.. describe:: outputConfig

    ``Object`` Optional configuration for the output container. This may
    be useful to override the xtype (e.g. "window" instead of "gx_popup"),
    or to provide layout configurations when rendering to an
    ``outputTarget``.

.. describe:: outputTarget

    ``String`` Where to add the tool's output container? This can be any
    string that references an ``Ext.Container`` property on the portal, or
    "map" to access the viewer's main map. If not provided, a window will
    be created.

.. describe:: queryActionText

    ``String``
    Text for query action (i18n).

.. describe:: queryActionTip

    ``String``
    Text for query action tooltip (i18n).

.. describe:: queryByAttributesText

    ``String``
    Text for query by attributes (i18n).

.. describe:: queryByLocationText

    ``String``
    Text for query by location (i18n).

.. describe:: queryMenuText

    ``String``
    Text for query menu item (i18n).

.. describe:: toggleGroup

    ``String`` If this tool should be radio-button style toggled with other
    tools, this string is to identify the toggle group.




Public Properties
-----------------

Public properties in addition to those
listed for `Ext.util.Observable <http://extjs.com/deploy/dev/docs/?class=Ext.util.Observable>`_.


.. attribute:: QueryForm.active

    ``Boolean`` Is the tool currently active?




Public Methods
--------------

Public methods in addition to those
listed for `Ext.util.Observable <http://extjs.com/deploy/dev/docs/?class=Ext.util.Observable>`_.


.. method:: QueryForm.activate

    :returns: ``Boolean`` true when this tool was activated
    
    Activates this tool.

.. method:: QueryForm.addActions

    

.. method:: QueryForm.addOutput

    

.. method:: QueryForm.deactivate

    :returns: ``Boolean`` true when this tool was deactivated
    
    Deactivates this tool.




Events
------

Events in addition to those
listed for `Ext.util.Observable <http://extjs.com/deploy/dev/docs/?class=Ext.util.Observable>`_.


.. describe:: activate

    Fired when the tool is activated.
    
    Listener arguments:
    * tool - :class:`gxp.plugins.Tool` the activated tool

.. describe:: deactivate

    Fired when the tool is deactivated.
    
    Listener arguments:
    * tool - :class:`gxp.plugins.Tool` the deactivated tool



