

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>gxp.plugins.AddLayers &mdash; GXP v0.1</title>
    <link rel="stylesheet" href="../../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="top" title="GXP v0.1" href="../../index.html" />
    <link rel="up" title="gxp.plugins" href="../plugins.html" />
    <link rel="next" title="gxp.plugins.BingSource" href="BingSource.html" />
    <link rel="prev" title="gxp.plugins" href="../plugins.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="BingSource.html" title="gxp.plugins.BingSource"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../plugins.html" title="gxp.plugins"
             accesskey="P">previous</a> |</li>
        <li><a href="../../index.html">GXP</a> &raquo;</li>
          <li><a href="../plugins.html" accesskey="U"><tt class="docutils literal docutils literal docutils literal docutils literal"><span class="pre">gxp.plugins</span></tt></a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#"><tt class="docutils literal"><span class="pre">gxp.plugins.AddLayers</span></tt></a><ul>
<li><a class="reference internal" href="#config-options">Config Options</a></li>
<li><a class="reference internal" href="#public-properties">Public Properties</a></li>
<li><a class="reference internal" href="#public-methods">Public Methods</a></li>
<li><a class="reference internal" href="#events">Events</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="../plugins.html"
                        title="previous chapter"><tt class="docutils literal docutils literal docutils literal"><span class="pre">gxp.plugins</span></tt></a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="BingSource.html"
                        title="next chapter"><tt class="docutils literal"><span class="pre">gxp.plugins.BingSource</span></tt></a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../../_sources/lib/plugins/AddLayers.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="gxp-plugins-addlayers">
<h1><a class="reference internal" href="#gxp.plugins.AddLayers" title="gxp.plugins.AddLayers"><tt class="xref py py-class docutils literal"><span class="pre">gxp.plugins.AddLayers</span></tt></a><a class="headerlink" href="#gxp-plugins-addlayers" title="Permalink to this headline">¶</a></h1>
<dl class="meta docutils">
<dt>Extends</dt>
<dd><ul class="first last simple">
<li><a class="reference external" href="http://extjs.com/deploy/dev/docs/?class=Ext.util.Observable">Ext.util.Observable</a></li>
<li><a class="reference internal" href="Tool.html#gxp.plugins.Tool" title="gxp.plugins.Tool"><tt class="xref py py-class docutils literal"><span class="pre">gxp.plugins.Tool</span></tt></a></li>
</ul>
</dd>
<dt>ptype</dt>
<dd><tt class="docutils literal"><span class="pre">gxp_addlayers</span></tt></dd>
</dl>
<dl class="class">
<dt id="gxp.plugins.AddLayers">
<em class="property">class </em><tt class="descclassname">gxp.plugins.</tt><tt class="descname">AddLayers</tt><big>(</big><em>config</em><big>)</big><a class="headerlink" href="#gxp.plugins.AddLayers" title="Permalink to this definition">¶</a></dt>
<dd><p>Plugin for removing a selected layer from the map.
TODO Make this plural - selected layers</p>
</dd></dl>

<div class="section" id="config-options">
<h2>Config Options<a class="headerlink" href="#config-options" title="Permalink to this headline">¶</a></h2>
<p>Configuration properties in addition to
those listed for <a class="reference external" href="http://extjs.com/deploy/dev/docs/?class=Ext.util.Observable">Ext.util.Observable</a>.</p>
<dl class="describe">
<dt>
<tt class="descname">actions</tt></dt>
<dd><p><tt class="docutils literal"><span class="pre">Array</span></tt> Custom actions for tools that do not provide their own. Array
elements are expected to be valid Ext config objects. Actions provided
here may have an additional <tt class="docutils literal"><span class="pre">menuText</span></tt> property, which will be used
as text when the action is used in a menu. The <tt class="docutils literal"><span class="pre">text</span></tt> property will
only be used in buttons. Optional, only needed to create custom
actions.</p>
</dd></dl>

<dl class="describe">
<dt>
<tt class="descname">actionTarget</tt></dt>
<dd><p><tt class="docutils literal"><span class="pre">Object</span></tt> or <tt class="docutils literal"><span class="pre">String</span></tt> or <tt class="docutils literal"><span class="pre">Array</span></tt> Where to place the tool&#8217;s actions
(e.g. buttons or menus)?</p>
<p>In case of a string, this can be any string that references an
<tt class="docutils literal"><span class="pre">Ext.Container</span></tt> property on the portal, or a unique id configured on a
component.</p>
<p>In case of an object, the object has a &#8220;target&#8221; and an &#8220;index&#8221; property,
so that the tool can be inserted at a specified index in the target.</p>
<p>actionTarget can also be an array of strings or objects, if the action is
to be put in more than one place (e.g. a button and a context menu item).</p>
<p>To reference one of the toolbars of an <tt class="docutils literal"><span class="pre">Ext.Panel</span></tt>, &#8221;.tbar&#8221;, &#8221;.bbar&#8221; or
&#8221;.fbar&#8221; has to be appended. The default is &#8220;map.tbar&#8221;. The viewer&#8217;s main
MapPanel can always be accessed with &#8220;map&#8221; as actionTarget. Set to null if
no actions should be created.</p>
<p>Some tools provide a context menu. To reference this context menu as
actionTarget for other tools, configure an id in the tool&#8217;s
outputConfig, and use the id with &#8221;.contextMenu&#8221; appended. In the
snippet below, a layer tree is created, with a &#8220;Remove layer&#8221; action
as button on the tree&#8217;s top toolbar, and as menu item in its context
menu:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="p">{</span>
    <span class="nx">xtype</span><span class="o">:</span> <span class="s2">&quot;gxp_layertree&quot;</span><span class="p">,</span>
    <span class="nx">outputConfig</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">id</span><span class="o">:</span> <span class="s2">&quot;tree&quot;</span><span class="p">,</span>
        <span class="nx">tbar</span><span class="o">:</span> <span class="p">[]</span>
    <span class="p">}</span>
<span class="p">},</span> <span class="p">{</span>
    <span class="nx">xtype</span><span class="o">:</span> <span class="s2">&quot;gxp_removelayer&quot;</span><span class="p">,</span>
    <span class="nx">actionTarget</span><span class="o">:</span> <span class="p">[</span><span class="s2">&quot;tree.tbar&quot;</span><span class="p">,</span> <span class="s2">&quot;tree.contextMenu&quot;</span><span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p>If a tool has both actions and output, and you want to force it to
immediately output to a container, set actionTarget to null. If you
want to hide the actions, set actionTarget to false. In this case, you
should configure a defaultAction to make sure that an action is active.</p>
</dd></dl>

<dl class="describe">
<dt>
<tt class="descname">addActionMenuText</tt></dt>
<dd><p><tt class="docutils literal"><span class="pre">String</span></tt>
Text for add menu item (i18n).</p>
</dd></dl>

<dl class="describe">
<dt>
<tt class="descname">addActionText</tt></dt>
<dd><p><tt class="docutils literal"><span class="pre">String</span></tt>
Text for the Add action. None by default.</p>
</dd></dl>

<dl class="describe">
<dt>
<tt class="descname">addActionTip</tt></dt>
<dd><p><tt class="docutils literal"><span class="pre">String</span></tt>
Text for add action tooltip (i18n).</p>
</dd></dl>

<dl class="describe">
<dt>
<tt class="descname">addButtonText</tt></dt>
<dd><p><tt class="docutils literal"><span class="pre">String</span></tt>
Text for add layers button (i18n).</p>
</dd></dl>

<dl class="describe">
<dt>
<tt class="descname">addLayerSourceErrorText</tt></dt>
<dd><p><tt class="docutils literal"><span class="pre">String</span></tt>
Text for an error message when WMS GetCapabilities retrieval fails (i18n).</p>
</dd></dl>

<dl class="describe">
<dt>
<tt class="descname">addServerText</tt></dt>
<dd><p><tt class="docutils literal"><span class="pre">String</span></tt>
Text for add server button (i18n).</p>
</dd></dl>

<dl class="describe">
<dt>
<tt class="descname">autoActivate</tt></dt>
<dd><p><tt class="docutils literal"><span class="pre">Boolean</span></tt> Set to false if the tool should be initialized without
activating it. Default is true.</p>
</dd></dl>

<dl class="describe">
<dt>
<tt class="descname">availableLayersText</tt></dt>
<dd><p><tt class="docutils literal"><span class="pre">String</span></tt>
Text for the layer selection (i18n).</p>
</dd></dl>

<dl class="describe">
<dt>
<tt class="descname">controlOptions</tt></dt>
<dd><p><tt class="docutils literal"><span class="pre">Object</span></tt> If this tool is associated with an <tt class="docutils literal"><span class="pre">OpenLayers.Control</span></tt>
then this is an optional object to pass to the constructor of the
associated <tt class="docutils literal"><span class="pre">OpenLayers.Control</span></tt>.</p>
</dd></dl>

<dl class="describe">
<dt>
<tt class="descname">createExpander</tt></dt>
<dd><p><tt class="docutils literal"><span class="pre">Function</span></tt> Returns an <tt class="docutils literal"><span class="pre">Ext.grid.RowExpander</span></tt>. Can be overridden
by applications/subclasses to provide a custom expander.</p>
</dd></dl>

<dl class="describe">
<dt>
<tt class="descname">defaultAction</tt></dt>
<dd><p><tt class="docutils literal"><span class="pre">Number</span></tt> Optional index of an action that should be active by
default. Only works for actions that are a <tt class="docutils literal"><span class="pre">GeoExt.Action</span></tt> instance.</p>
</dd></dl>

<dl class="describe">
<dt>
<tt class="descname">doneText</tt></dt>
<dd><p><tt class="docutils literal"><span class="pre">String</span></tt>
Text for Done button (i18n).</p>
</dd></dl>

<dl class="describe">
<dt>
<tt class="descname">instructionsText</tt></dt>
<dd><p><tt class="docutils literal"><span class="pre">String</span></tt>
Text for additional instructions at the bottom of the grid (i18n).
None by default.</p>
</dd></dl>

<dl class="describe">
<dt>
<tt class="descname">nonUploadSources</tt></dt>
<dd><p><tt class="docutils literal"><span class="pre">Array</span></tt>
If <tt class="docutils literal"><span class="pre">upload</span></tt> is enabled, the upload button will not be displayed for
sources whose identifiers or URLs are in the provided array.  By
default, the upload button will make an effort to be shown for all
sources with a url property.</p>
</dd></dl>

<dl class="describe">
<dt>
<tt class="descname">outputAction</tt></dt>
<dd><p><tt class="docutils literal"><span class="pre">Number</span></tt> The <tt class="docutils literal"><span class="pre">actions</span></tt> array index of the action that should
trigger this tool&#8217;s output. Only valid if <tt class="docutils literal"><span class="pre">actions</span></tt> is configured.
Leave this unconfigured if none of the <tt class="docutils literal"><span class="pre">actions</span></tt> should trigger this
tool&#8217;s output.</p>
</dd></dl>

<dl class="describe">
<dt>
<tt class="descname">outputConfig</tt></dt>
<dd><p><tt class="docutils literal"><span class="pre">Object</span></tt> Optional configuration for the output container. This may
be useful to override the xtype (e.g. &#8220;window&#8221; instead of &#8220;gx_popup&#8221;),
or to provide layout configurations when rendering to an
<tt class="docutils literal"><span class="pre">outputTarget</span></tt>.</p>
</dd></dl>

<dl class="describe">
<dt>
<tt class="descname">outputTarget</tt></dt>
<dd><p><tt class="docutils literal"><span class="pre">String</span></tt> Where to add the tool&#8217;s output container? This can be any
string that references an <tt class="docutils literal"><span class="pre">Ext.Container</span></tt> property on the portal, or
&#8220;map&#8221; to access the viewer&#8217;s main map. If not provided, a window will
be created.</p>
</dd></dl>

<dl class="describe">
<dt>
<tt class="descname">relativeUploadOnly</tt></dt>
<dd><p><tt class="docutils literal"><span class="pre">Boolean</span></tt>
If <tt class="docutils literal"><span class="pre">upload</span></tt> is enabled, only show the button for sources with relative
URLs (e.g. &#8220;/geoserver&#8221;).  Default is <tt class="docutils literal"><span class="pre">true</span></tt>.</p>
</dd></dl>

<dl class="describe">
<dt>
<tt class="descname">startSourceId</tt></dt>
<dd><p><tt class="docutils literal"><span class="pre">Integer</span></tt>
The identifier of the source that we should start with.</p>
</dd></dl>

<dl class="describe">
<dt>
<tt class="descname">toggleGroup</tt></dt>
<dd><p><tt class="docutils literal"><span class="pre">String</span></tt> If this tool should be radio-button style toggled with other
tools, this string is to identify the toggle group.</p>
</dd></dl>

<dl class="describe">
<dt>
<tt class="descname">untitledText</tt></dt>
<dd><p><tt class="docutils literal"><span class="pre">String</span></tt>
Text for an untitled layer (i18n).</p>
</dd></dl>

<dl class="describe">
<dt>
<tt class="descname">upload</tt></dt>
<dd><p><tt class="docutils literal"><span class="pre">Object</span> <span class="pre">|</span> <span class="pre">Boolean</span></tt>
If provided, a <a class="reference internal" href="../widgets/LayerUploadPanel.html#gxp.LayerUploadPanel" title="gxp.LayerUploadPanel"><tt class="xref py py-class docutils literal"><span class="pre">gxp.LayerUploadPanel</span></tt></a> will be made accessible
from a button on the Available Layers dialog.  This panel will be
constructed using the provided config.  By default, no upload
functionality is provided.</p>
</dd></dl>

<dl class="describe">
<dt>
<tt class="descname">uploadText</tt></dt>
<dd><p><tt class="docutils literal"><span class="pre">String</span></tt>
Text for upload button (only renders if <tt class="docutils literal"><span class="pre">upload</span></tt> is provided).</p>
</dd></dl>

</div>
<div class="section" id="public-properties">
<h2>Public Properties<a class="headerlink" href="#public-properties" title="Permalink to this headline">¶</a></h2>
<p>Public properties in addition to those
listed for <a class="reference external" href="http://extjs.com/deploy/dev/docs/?class=Ext.util.Observable">Ext.util.Observable</a>.</p>
<dl class="attribute">
<dt id="gxp.plugins.AddLayers.active">
<tt class="descclassname">AddLayers.</tt><tt class="descname">active</tt><a class="headerlink" href="#gxp.plugins.AddLayers.active" title="Permalink to this definition">¶</a></dt>
<dd><p><tt class="docutils literal"><span class="pre">Boolean</span></tt> Is the tool currently active?</p>
</dd></dl>

</div>
<div class="section" id="public-methods">
<h2>Public Methods<a class="headerlink" href="#public-methods" title="Permalink to this headline">¶</a></h2>
<p>Public methods in addition to those
listed for <a class="reference external" href="http://extjs.com/deploy/dev/docs/?class=Ext.util.Observable">Ext.util.Observable</a>.</p>
<dl class="method">
<dt id="gxp.plugins.AddLayers.activate">
<tt class="descclassname">AddLayers.</tt><tt class="descname">activate</tt><big>(</big><big>)</big><a class="headerlink" href="#gxp.plugins.AddLayers.activate" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Returns:</th><td class="field-body"><tt class="docutils literal"><span class="pre">Boolean</span></tt> true when this tool was activated</td>
</tr>
</tbody>
</table>
<p>Activates this tool.</p>
</dd></dl>

<dl class="method">
<dt id="gxp.plugins.AddLayers.addActions">
<tt class="descclassname">AddLayers.</tt><tt class="descname">addActions</tt><big>(</big><big>)</big><a class="headerlink" href="#gxp.plugins.AddLayers.addActions" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="gxp.plugins.AddLayers.addOutput">
<tt class="descclassname">AddLayers.</tt><tt class="descname">addOutput</tt><big>(</big><big>)</big><a class="headerlink" href="#gxp.plugins.AddLayers.addOutput" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><strong>config</strong> &#8211; <tt class="docutils literal"><span class="pre">Object</span></tt> configuration for the <tt class="docutils literal"><span class="pre">Ext.Component</span></tt> to be
added to the <tt class="docutils literal"><span class="pre">outputTarget</span></tt>. Properties of this configuration
will be overridden by the applications <tt class="docutils literal"><span class="pre">outputConfig</span></tt> for the
tool instance.</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body"><tt class="docutils literal"><span class="pre">Ext.Component</span></tt> The component added to the <tt class="docutils literal"><span class="pre">outputTarget</span></tt>.</td>
</tr>
</tbody>
</table>
<p>Adds output to the tool&#8217;s <tt class="docutils literal"><span class="pre">outputTarget</span></tt>. This method is meant to be
called and/or overridden by subclasses.</p>
</dd></dl>

<dl class="method">
<dt id="gxp.plugins.AddLayers.deactivate">
<tt class="descclassname">AddLayers.</tt><tt class="descname">deactivate</tt><big>(</big><big>)</big><a class="headerlink" href="#gxp.plugins.AddLayers.deactivate" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Returns:</th><td class="field-body"><tt class="docutils literal"><span class="pre">Boolean</span></tt> true when this tool was deactivated</td>
</tr>
</tbody>
</table>
<p>Deactivates this tool.</p>
</dd></dl>

<dl class="method">
<dt id="gxp.plugins.AddLayers.removeOutput">
<tt class="descclassname">AddLayers.</tt><tt class="descname">removeOutput</tt><big>(</big><big>)</big><a class="headerlink" href="#gxp.plugins.AddLayers.removeOutput" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes all output created by this tool</p>
</dd></dl>

<dl class="method">
<dt id="gxp.plugins.AddLayers.showCapabilitiesGrid">
<tt class="descclassname">AddLayers.</tt><tt class="descname">showCapabilitiesGrid</tt><big>(</big><big>)</big><a class="headerlink" href="#gxp.plugins.AddLayers.showCapabilitiesGrid" title="Permalink to this definition">¶</a></dt>
<dd><p>Shows the window with a capabilities grid.</p>
</dd></dl>

</div>
<div class="section" id="events">
<h2>Events<a class="headerlink" href="#events" title="Permalink to this headline">¶</a></h2>
<p>Events in addition to those
listed for <a class="reference external" href="http://extjs.com/deploy/dev/docs/?class=Ext.util.Observable">Ext.util.Observable</a>.</p>
<dl class="describe">
<dt>
<tt class="descname">activate</tt></dt>
<dd><p>Fired when the tool is activated.</p>
<p>Listener arguments:
* tool - <a class="reference internal" href="Tool.html#gxp.plugins.Tool" title="gxp.plugins.Tool"><tt class="xref py py-class docutils literal"><span class="pre">gxp.plugins.Tool</span></tt></a> the activated tool</p>
</dd></dl>

<dl class="describe">
<dt>
<tt class="descname">deactivate</tt></dt>
<dd><p>Fired when the tool is deactivated.</p>
<p>Listener arguments:
* tool - <a class="reference internal" href="Tool.html#gxp.plugins.Tool" title="gxp.plugins.Tool"><tt class="xref py py-class docutils literal"><span class="pre">gxp.plugins.Tool</span></tt></a> the deactivated tool</p>
</dd></dl>

<dl class="describe">
<dt>
<tt class="descname">sourceselected</tt></dt>
<dd><p>Fired when a new source is selected.</p>
<p>Listener arguments:</p>
<ul class="simple">
<li>tool - <a class="reference internal" href="#gxp.plugins.AddLayers" title="gxp.plugins.AddLayers"><tt class="xref py py-class docutils literal"><span class="pre">gxp.plugins.AddLayers</span></tt></a> This tool.</li>
<li>source - <a class="reference internal" href="LayerSource.html#gxp.plugins.LayerSource" title="gxp.plugins.LayerSource"><tt class="xref py py-class docutils literal"><span class="pre">gxp.plugins.LayerSource</span></tt></a> The selected source.</li>
</ul>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="BingSource.html" title="gxp.plugins.BingSource"
             >next</a> |</li>
        <li class="right" >
          <a href="../plugins.html" title="gxp.plugins"
             >previous</a> |</li>
        <li><a href="../../index.html">GXP</a> &raquo;</li>
          <li><a href="../plugins.html" ><tt class="docutils literal docutils literal docutils literal docutils literal"><span class="pre">gxp.plugins</span></tt></a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2008-2011, The Open Planning Project.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.7.
    </div>
  </body>
</html>